{"version":3,"file":"services.bundle.js","mappings":"mBAAA,IAAMA,EAAaC,SAASC,eAAe,SACrCC,EAAiBF,SAASC,eAAe,mBAGzCE,GAFUC,UAAUC,KAAK,mBAAoB,GAEjCL,SAASM,cAAc,gBACnCC,EAAUP,SAASM,cAAc,aACvCC,EAAQC,aAAa,MAAOC,OAAON,EAAUO,QAE7C,IAAIC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,iBAC1CC,EAAWhB,SAASiB,iBAAiB,yBACrCC,EAAalB,SAASM,cAAc,yBACpCa,EAAanB,SAASM,cAAc,yBACtCc,EAAQpB,SAASoB,MAAM,GAAGH,iBAAiB,WAC3CI,EAAiB,EAGrBtB,EAAWuB,iBAAiB,UAAU,WAClC,IAAMC,EAAQxB,EAAWwB,MACrBC,EAAY,EACZC,EAAY,GAChBC,OAAOC,OAAOJ,GAAOK,SAAQ,SAACC,GAC1BL,GAAaK,EAAKC,KAClBL,GAAa,IAAJM,OAAQF,EAAKG,KAAI,KAC9B,IAEIR,EAAa,UACbS,MAAM,yDACNlC,EAAWW,MAAQ,GACnBR,EAAegC,YAAc,oBAE7BhC,EAAegC,YAAcT,CAErC,IAEId,EACAS,EAAMQ,SAAQ,SAACO,GACPA,EAAKH,MAAQrB,EAAUwB,EAAKH,QAC5BG,EAAKzB,MAAQC,EAAUwB,EAAKH,MAEpC,IAEArB,EAAY,CAAC,EAGjBR,EAAUmB,iBAAiB,SAAS,SAACc,GACjC7B,EAAQC,aAAa,MAAOC,OAAON,EAAUO,OACjD,IAGAQ,EAAWI,iBAAiB,SAAS,SAACc,GAClC,IAAIC,GAAQ,EACZrB,EAASK,GAAgBJ,iBAAiB,WAAWW,SAAQ,SAACO,QACvCG,IAAfH,EAAKzB,OAAwByB,EAAKzB,OAAuB,iBAAdyB,EAAKH,KAIhDrB,EAAUwB,EAAKH,MAAQG,EAAKzB,OAH5ByB,EAAKI,MAAMC,OAAS,gBACpBH,GAAQ,EAIhB,IAEKA,IACGhB,EAAiBL,EAASyB,OAAS,GACnCL,EAAEM,iBACF1B,EAASK,GAAgBsB,kBAAkBC,IAAI,OAAQC,IAAIC,SAAS,MACpE9B,EAASK,EAAiB,GAAGsB,kBAAkBC,IAAI,OAAQC,IAAIC,QAAQ,IACvEzB,IACAP,aAAaiC,QAAQ,eAAgBnC,KAAKoC,UAAUrC,KAEpDG,aAAamC,WAAW,gBAGxB5B,IAAmBL,EAASyB,OAAS,IACrCvB,EAAWgB,YAAc,UAGrC,IAEAf,EAAWG,iBAAiB,SAAS,SAACc,GAC9Bf,EAAiB,IACjBe,EAAEM,iBACF1B,EAASK,GAAgBsB,kBAAkBC,IAAI,OAAQC,IAAIC,QAAQ,MACnE9B,EAASK,EAAiB,GAAGsB,kBAAkBC,IAAI,OAAQC,IAAIC,QAAQ,IACvEzB,KAGAA,EAAiBL,EAASyB,OAAS,IACnCvB,EAAWgB,YAAc,OAEjC,G","sources":["webpack://backend/./public/js/services.js"],"sourcesContent":["const attachment = document.getElementById(\"files\");\r\nconst attachmentInfo = document.getElementById(\"attachment-info\");\r\nconst request = indexedDB.open(\"quantumServiceDB\", 1);\r\n\r\nconst fromPrice = document.querySelector('#from-price');\r\nconst toPrice = document.querySelector('#to-price');\r\ntoPrice.setAttribute('min', Number(fromPrice.value));\r\n\r\nlet formStore = JSON.parse(localStorage.getItem('servicesForm'));\r\nconst sections = document.querySelectorAll('.service-request-form');\r\nconst nextButton = document.querySelector('button[type=\"submit\"]');\r\nconst backButton = document.querySelector('button[type=\"button\"]');\r\nlet forms = document.forms[0].querySelectorAll(\"label>*\");\r\nlet currentSection = 0;\r\n\r\n\r\nattachment.addEventListener(\"change\", function () {\r\n    const files = attachment.files;\r\n    let filesSize = 0;\r\n    let filesName = \"\";\r\n    Object.values(files).forEach((file) => {\r\n        filesSize += file.size;\r\n        filesName += `\"${file.name}\" `\r\n    })\r\n\r\n    if (filesSize > (10 * 1024 * 1024)) {\r\n        alert(\"File size exceeds 10MB. Please select a smaller file.\");\r\n        attachment.value = \"\"; // Clear the input\r\n        attachmentInfo.textContent = \"No file selected\";\r\n    } else {\r\n        attachmentInfo.textContent = filesName;\r\n    }\r\n});\r\n\r\nif (formStore) {\r\n    forms.forEach((elem) => {\r\n        if (elem.name && formStore[elem.name]) {\r\n            elem.value = formStore[elem.name];\r\n        }\r\n    })\r\n} else {\r\n    formStore = {};\r\n}\r\n\r\nfromPrice.addEventListener('input', (e) => {\r\n    toPrice.setAttribute('min', Number(fromPrice.value));\r\n})\r\n\r\n\r\nnextButton.addEventListener('click', (e) => {\r\n    let error = false;\r\n    sections[currentSection].querySelectorAll(\"label>*\").forEach((elem) => {\r\n        if (elem.value !== undefined && !elem.value && elem.name !== 'phone-number') {\r\n            elem.style.border = \"1px solid red\";\r\n            error = true;\r\n        } else {\r\n            formStore[elem.name] = elem.value;\r\n        }\r\n    })\r\n\r\n    if (!error) {\r\n        if (currentSection < sections.length - 1) {\r\n            e.preventDefault();\r\n            sections[currentSection].attributeStyleMap.set(\"left\", CSS.percent(-100));\r\n            sections[currentSection + 1].attributeStyleMap.set(\"left\", CSS.percent(0));\r\n            currentSection++;\r\n            localStorage.setItem('servicesForm', JSON.stringify(formStore));\r\n        } else {\r\n            localStorage.removeItem('servicesForm');\r\n        }\r\n        \r\n        if (currentSection === sections.length - 1) {\r\n            nextButton.textContent = 'Submit';\r\n        }\r\n    }\r\n});\r\n\r\nbackButton.addEventListener('click', (e) => {\r\n    if (currentSection > 0) {\r\n        e.preventDefault();\r\n        sections[currentSection].attributeStyleMap.set(\"left\", CSS.percent(100));\r\n        sections[currentSection - 1].attributeStyleMap.set(\"left\", CSS.percent(0));\r\n        currentSection--;\r\n    }\r\n\r\n    if (currentSection < sections.length - 1) {\r\n        nextButton.textContent = 'Next';\r\n    }\r\n});\r\n\r\n"],"names":["attachment","document","getElementById","attachmentInfo","fromPrice","indexedDB","open","querySelector","toPrice","setAttribute","Number","value","formStore","JSON","parse","localStorage","getItem","sections","querySelectorAll","nextButton","backButton","forms","currentSection","addEventListener","files","filesSize","filesName","Object","values","forEach","file","size","concat","name","alert","textContent","elem","e","error","undefined","style","border","length","preventDefault","attributeStyleMap","set","CSS","percent","setItem","stringify","removeItem"],"sourceRoot":""}